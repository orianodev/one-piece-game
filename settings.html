<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Réglages</title>
    <link rel="shortcut icon" href="img/logo.webp" type="image/webp" />
    <link rel="stylesheet" href="styles/style.css" />
  </head>
  <body>
    <h1>Réglages</h1>
    <br />
    <form
      id="settings-form"
      style="display: flex; flex-direction: column; row-gap: 10px"
    >
      <label for="hideMobileControls">
        <input
          type="checkbox"
          name="hideMobileControls"
          id="hideMobileControls"
        />
        Cacher les commandes pour mobiles
      </label>
      <label for="resetScore">
        <input type="checkbox" name="resetScore" id="resetScore" />
        Réinitialiser le score sur cet appareil
      </label>
      <br />
      <button type="submit">Sauvegarder</button>
    </form>
    <script>
      const hideMobileControls = document.getElementById("hideMobileControls");
      const resetScore = document.getElementById("resetScore");
      const form = document.getElementById("settings-form");

      if (localStorage.getItem("hideMobileControls") === "true")
        hideMobileControls.checked = true;

      form.addEventListener("submit", (event) => {
        event.preventDefault();
        localStorage.setItem("hideMobileControls", hideMobileControls.checked);
        if (resetScore.checked) localStorage.setItem("score", 0);
        alert("Réglages sauvegardés!");
      });
    </script>
  </body>
</html>
